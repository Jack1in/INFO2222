<!-- 
All pages inherit from this page, this is the "base" page. 
Think of Java inheritance, but for web pages, eww... 

Contains script tags that tells the browser where to locate the JQuery scripts.
This code is pretty gross since everything is imported globally, if you're familiar with Python
this is equivalent to a bunch of glob imports -> import * from jquery. 

Yeah I know it's pretty ugly...
-->
<!DOCTYPE html>
{% autoescape true %}
<html>

<head>
    <title>HTML :)</title> 
    <script src="/static/js/libs/axios.min.js"></script>
    <script src="/static/js/libs/jquery.min.js"></script>
    <script src="/static/js/libs/js.cookie.min.js"></script>
    <style>
        body {
            background-color: white;
            color: black;
        }

        body.dark-mode {
            background-color: #121212;
            color: white;
        }

        nav.dark-mode {
            border-bottom: 1px solid white;
        }

        .dark-mode button {
            background-color: #333;
            color: white;
        }

        .dark-mode input {
            background-color: #333;
            color: white;
            border: 1px solid white;
        }
    </style>
</head>

<body>
    <nav>
        <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
        <!-- Other nav content can go here -->
    </nav>

    <!-- The content from any other page goes here -->
    {% block content %} {% endblock %}

    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            document.querySelectorAll('nav').forEach(el => el.classList.toggle('dark-mode'));
            document.querySelectorAll('button').forEach(el => el.classList.toggle('dark-mode'));
            document.querySelectorAll('input').forEach(el => el.classList.toggle('dark-mode'));

            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.setItem('darkMode', 'disabled');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('darkMode') === 'enabled') {
                toggleDarkMode(); // Ensure the initial load applies dark mode if it was enabled
            }
        });
    </script>
</body>

</html>
{% endautoescape %}
