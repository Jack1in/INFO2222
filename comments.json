[
    {
        "username": "1111",
        "article_title": "dasdasd",
        "article_username": "1111",
        "content": "dsad",
        "comment_publisher": "1111"
    },
    {
        "username": "1111",
        "article_title": "dasdas",
        "article_username": "1111",
        "content": "fddasdasdasd",
        "comment_publisher": "1111"
    },
    {
        "username": "1111",
        "role": "administrative staff",
        "article_title": "dasdasd",
        "article_username": "1111",
        "content": "dasdas"
    },
    {
        "username": "1111",
        "role": "user",
        "article_title": "dasas",
        "article_username": "1111",
        "content": "ss"
    },
    {
        "username": "5555",
        "role": "admin",
        "article_title": "4444",
        "article_username": "5555",
        "content": "\n\n\n</style>\n</head>\n<body>\n    <nav>\n        <button class=\"custom-button home-button\" onclick=\"window.location.href='{{ url_for('home', username=request.args.get('username'), sessionKey=request.args.get('sessionKey'), role=request.args.get('role')) }}'\">Home Page</button>\n        <div class=\"user-info\">\n            <span>Username: {{ username|escape }}</span>\n            <button class=\"custom-button\" onclick=\"logout()\">Logout</button>\n        </div>\n    </nav>\n\n<h1>Knowledge Repository</h1>\n\n<main class=\"container\">\n    <section class=\"left-panel\" id=\"articles\">\n        <h2>Articles</h2>\n        <button class=\"custom-button post-article-button\" id=\"postArticleBtn\">Post Article</button>\n\n        <div id=\"postArticleModal\">\n            <div class=\"modal-header\">\n                <h3>Post a New Article</h3>\n            </div>\n            <div class=\"modal-content\">\n                <p>Title:</p>\n                <input type=\"text\" id=\"articleTitle\" class=\"input-field\" placeholder=\"Enter the title\">\n                <p>Content:</p>\n                <textarea id=\"articleContent\" class=\"input-field\" placeholder=\"Write your article here...\"></textarea>\n                <label>\n                    <input type=\"checkbox\" id=\"anonymousCheck\"> Post Anonymously\n                </label>\n            </div>\n            <div class=\"modal-footer\">\n                <button class=\"custom-button\" onclick=\"postArticle()\">Submit</button>\n                <button class=\"custom-button\" onclick=\"closeModal()\">Cancel</button>\n            </div>\n        </div>\n\n        <div id=\"articles_list\"></div>\n    </section>\n\n    <section class=\"right-panel\">\n        <h2>Article Details</h2>\n        <div id=\"article_details\" class=\"article-details-container\">\n            <div class=\"article-details\"></div>\n        </div>\n        <h3>Comments</h3>\n        <div id=\"comments_list\"></div>\n        <textarea id=\"commentContent\" class=\"input-field\" placeholder=\"Write your comment here...\"></textarea>\n        <button class=\"custom-button\" onclick=\"postComment()\">Post Comment</button>\n    </section>\n</main>\n\n<div id=\"editArticleModal\">\n    <div class=\"modal-header\">\n        <h3>Edit Article</h3>\n    </div>\n    <div class=\"modal-content\">\n        <p>Title:</p>\n        <input type=\"text\" id=\"editArticleTitle\" class=\"input-field\" placeholder=\"Enter the title\">\n        <p>Content:</p>\n        <textarea id=\"editArticleContent\" class=\"input-field\" placeholder=\"Write your article here...\"></textarea>\n    </div>\n    <div class=\"modal-footer\">\n        <button class=\"custom-button\" onclick=\"updateArticle()\">Update</button>\n        <button class=\"custom-button\" oncli"
    },
    {
        "username": "5555",
        "role": "admin",
        "article_title": "4444",
        "article_username": "5555",
        "content": "async function postComment() {\n    const commentContent = escapeHTML(document.getElementById('commentContent').value);\n    const articleTitle = document.querySelector('.article-details').dataset.title;\n    const articleUsername = document.querySelector('.article-details').dataset.username;\n    const username = \"{{ request.args.get('username') }}\";\n    const sessionKey = \"{{ request.args.get('sessionKey') }}\";\n    const commentPublisher = username;\n\n    if (!commentContent) {\n        alert(\"Comment cannot be empty!\");\n        return;\n    }\n\n    try {\n        const response = await fetch(\"{{ url_for('post_comment') }}\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                username: username,\n                sessionKey: sessionKey,\n                articleTitle: escapeHTML(articleTitle),\n                articleUsername: escapeHTML(articleUsername),\n                content: commentContent,\n                commentPublisher: commentPublisher\n            }),\n        });\n\n        if (response.ok) {\n            const result = await response.json();\n            alert(\"Comment posted successfully!\");\n            document.getElementById('commentContent').value = '';\n            loadComments(articleTitle, articleUsername);\n        } else {\n            const errorText = await response.text();\n            console.error(\"Failed to post comment:\", errorText);\n            alert(\"Failed to post comment. Server response: \" + errorText);\n        }\n    } catch (error) {\n        console.error(\"Error posting comment:\", error);\n        alert(\"An error occurred while posting the comment.\");\n    }\n}\n"
    },
    {
        "username": "5555",
        "role": "admin",
        "article_title": "dasas",
        "article_username": "1111",
        "content": "async function postComment() {\n    const commentContent = escapeHTML(document.getElementById('commentContent').value);\n    const articleTitle = document.querySelector('.article-details').dataset.title;\n    const articleUsername = document.querySelector('.article-details').dataset.username;\n    const username = \"{{ request.args.get('username') }}\";\n    const sessionKey = \"{{ request.args.get('sessionKey') }}\";\n    const commentPublisher = username;\n\n    if (!commentContent) {\n        alert(\"Comment cannot be empty!\");\n        return;\n    }\n\n    try {\n        const response = await fetch(\"{{ url_for('post_comment') }}\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                username: username,\n                sessionKey: sessionKey,\n                articleTitle: escapeHTML(articleTitle),\n                articleUsername: escapeHTML(articleUsername),\n                content: commentContent,\n                commentPublisher: commentPublisher\n            }),\n        });\n\n        if (response.ok) {\n            const result = await response.json();\n            alert(\"Comment posted successfully!\");\n            document.getElementById('commentContent').value = '';\n            loadComments(articleTitle, articleUsername);\n        } else {\n            const errorText = await response.text();\n            console.error(\"Failed to post comment:\", errorText);\n            alert(\"Failed to post comment. Server response: \" + errorText);\n        }\n    } catch (error) {\n        console.error(\"Error posting comment:\", error);\n        alert(\"An error occurred while posting the comment.\");\n    }\n}\n"
    }
]